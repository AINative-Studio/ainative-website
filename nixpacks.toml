# Nixpacks configuration for Railway deployment
# Fixes EBUSY error caused by npm ci trying to delete mounted cache directories

[phases.setup]
nixPkgs = ["nodejs_18"]

[phases.install]
# Use npm install instead of npm ci to avoid EBUSY on mounted cache dirs
cmds = ["npm install --prefer-offline"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npm run start"
